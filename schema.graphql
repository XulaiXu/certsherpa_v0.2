# Transformer v2 schema for CertSherpa questions

type Question
  @model
  @auth(rules: [
    # App users signed in with Cognito (your site)
    { allow: private, provider: userPools, operations: [create, read, update, delete] },
    # Amplify Studio / AWS Console uses IAM
    { allow: private, provider: iam,       operations: [create, read, update, delete] }
  ]) {
  id: ID!
  text: String!
  svgKey: String
  answerA: String!
  answerB: String!
  answerC: String!
  answerD: String!
  correctAnswer: String!    # "A" | "B" | "C" | "D"

  # Random selection helpers
  bucket: Int!              @index(
    name: "byBucketRandom",
    sortKeyFields: ["randomIndex"],
    queryField: "listByBucketRandom"
  )
  randomIndex: Float!

  # Optional metadata
  tags: [String]
  difficulty: Int
}
